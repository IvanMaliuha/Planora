<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Planora.ViewModels.ViewModels"
             x:Class="Planora.Views.ScheduleGenerationView"
             x:DataType="vm:ScheduleGenerationViewModel">

    <Grid RowDefinitions="Auto, *">
        <TextBlock Text="–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–æ–∑–∫–ª–∞–¥—É" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

        <Grid Grid.Row="1" ColumnDefinitions="*, *" Margin="0,20">
            
            <!-- –õ–Ü–í–ê –ß–ê–°–¢–ò–ù–ê: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ -->
            <Border Grid.Column="0" Background="White" CornerRadius="10" Padding="30" Margin="0,0,20,0" BoxShadow="0 2 10 0 #10000000">
                <StackPanel Spacing="20">
                    <TextBlock Text="–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó" FontSize="18" FontWeight="SemiBold"/>
                    
                    <StackPanel Spacing="5">
                        <TextBlock Text="–°–µ–º–µ—Å—Ç—Ä"/>
                        <ComboBox SelectedIndex="0" HorizontalAlignment="Stretch">
                            <ComboBoxItem>–û—Å—ñ–Ω–Ω—ñ–π 2025</ComboBoxItem>
                            <ComboBoxItem>–í–µ—Å–Ω—è–Ω–∏–π 2026</ComboBoxItem>
                        </ComboBox>
                    </StackPanel>

                    <CheckBox IsChecked="{Binding Parameters.OptimizeWindows}" Content="–û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ '–≤—ñ–∫–Ω–∞' (–Ω–µ –±—ñ–ª—å—à–µ 1)"/>
                    <CheckBox IsChecked="{Binding Parameters.ConsiderWishes}" Content="–í—Ä–∞—Ö—É–≤–∞—Ç–∏ –ø–æ–±–∞–∂–∞–Ω–Ω—è –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤"/>
                    <CheckBox Content="–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ –≤—ñ–ª—å–Ω—ñ –∞—É–¥–∏—Ç–æ—Ä—ñ—ó" IsChecked="True"/>

                    <Button Command="{Binding GenerateCommand}" 
                            Content="üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é" 
                            HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"
                            Background="#2563EB" Foreground="White" Padding="15"
                            FontSize="16" FontWeight="Bold" Margin="0,20,0,0"/>
                </StackPanel>
            </Border>

            <!-- –ü–†–ê–í–ê –ß–ê–°–¢–ò–ù–ê: –°—Ç–∞—Ç—É—Å -->
            <Border Grid.Column="1" Background="White" CornerRadius="10" Padding="30" Margin="20,0,0,0" BoxShadow="0 2 10 0 #10000000">
                <StackPanel VerticalAlignment="Center" Spacing="20">
                    
                    <Border Width="100" Height="100" Background="#F3F4F6" CornerRadius="50" Margin="0,0,0,20">
                        <Panel>
                            <TextBlock Text="‚öôÔ∏è" FontSize="40" HorizontalAlignment="Center" VerticalAlignment="Center" IsVisible="{Binding !IsCompleted}"/>
                            <TextBlock Text="‚úÖ" FontSize="40" HorizontalAlignment="Center" VerticalAlignment="Center" IsVisible="{Binding IsCompleted}"/>
                        </Panel>
                    </Border>

                    <TextBlock Text="{Binding StatusMessage}" 
                               HorizontalAlignment="Center" FontSize="16" FontWeight="Medium" 
                               TextWrapping="Wrap" TextAlignment="Center"/>

                    <ProgressBar Value="{Binding Progress}" Maximum="100" Height="10" 
                                 Foreground="#2563EB" Background="#E5E7EB" CornerRadius="5"
                                 IsVisible="{Binding IsGenerating}"/>
                    
                    <!-- üëá –í–ò–ü–†–ê–í–õ–ï–ù–û –¢–£–¢: –î–æ–¥–∞–Ω–æ {} –ø–µ—Ä–µ–¥ {0}% -->
                    <TextBlock Text="{Binding Progress, StringFormat='{}{0}%'}" 
                               HorizontalAlignment="Center" Foreground="Gray"
                               IsVisible="{Binding IsGenerating}"/>

                    <Button Command="{Binding ViewResultCommand}"
                            Content="–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç" 
                            HorizontalAlignment="Center"
                            IsVisible="{Binding IsCompleted}"
                            Background="#10B981" Foreground="White"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>